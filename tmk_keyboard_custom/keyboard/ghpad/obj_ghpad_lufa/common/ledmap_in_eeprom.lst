   1               		.file	"ledmap_in_eeprom.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.text
   8               	.Ltext0:
   9               		.cfi_sections	.debug_frame
  10               		.section	.text.ledmap_in_eeprom_init,"ax",@progbits
  11               	.global	ledmap_in_eeprom_init
  13               	ledmap_in_eeprom_init:
  14               	.LFB1:
  15               		.file 1 "../../tmk_core_custom/common/ledmap_in_eeprom.c"
   1:../../tmk_core_custom/common/ledmap_in_eeprom.c **** #include <avr/pgmspace.h>
   2:../../tmk_core_custom/common/ledmap_in_eeprom.c **** #include <avr/eeprom.h>
   3:../../tmk_core_custom/common/ledmap_in_eeprom.c **** #include "ledmap_in_eeprom.h"
   4:../../tmk_core_custom/common/ledmap_in_eeprom.c **** 
   5:../../tmk_core_custom/common/ledmap_in_eeprom.c **** #ifdef LEDMAP_IN_EEPROM_ENABLE
   6:../../tmk_core_custom/common/ledmap_in_eeprom.c **** 
   7:../../tmk_core_custom/common/ledmap_in_eeprom.c **** #undef ledmap_get_code
   8:../../tmk_core_custom/common/ledmap_in_eeprom.c **** 
   9:../../tmk_core_custom/common/ledmap_in_eeprom.c **** static ledmap_t ledmap[LED_COUNT];
  10:../../tmk_core_custom/common/ledmap_in_eeprom.c **** 
  11:../../tmk_core_custom/common/ledmap_in_eeprom.c **** void ledmap_in_eeprom_init(void)
  12:../../tmk_core_custom/common/ledmap_in_eeprom.c **** {
  16               		.loc 1 12 0
  17               		.cfi_startproc
  18 0000 CF92      		push r12
  19               	.LCFI0:
  20               		.cfi_def_cfa_offset 3
  21               		.cfi_offset 12, -2
  22 0002 DF92      		push r13
  23               	.LCFI1:
  24               		.cfi_def_cfa_offset 4
  25               		.cfi_offset 13, -3
  26 0004 EF92      		push r14
  27               	.LCFI2:
  28               		.cfi_def_cfa_offset 5
  29               		.cfi_offset 14, -4
  30 0006 FF92      		push r15
  31               	.LCFI3:
  32               		.cfi_def_cfa_offset 6
  33               		.cfi_offset 15, -5
  34 0008 0F93      		push r16
  35               	.LCFI4:
  36               		.cfi_def_cfa_offset 7
  37               		.cfi_offset 16, -6
  38 000a 1F93      		push r17
  39               	.LCFI5:
  40               		.cfi_def_cfa_offset 8
  41               		.cfi_offset 17, -7
  42 000c CF93      		push r28
  43               	.LCFI6:
  44               		.cfi_def_cfa_offset 9
  45               		.cfi_offset 28, -8
  46 000e DF93      		push r29
  47               	.LCFI7:
  48               		.cfi_def_cfa_offset 10
  49               		.cfi_offset 29, -9
  50               	/* prologue: function */
  51               	/* frame size = 0 */
  52               	/* stack size = 8 */
  53               	.L__stack_usage = 8
  54               	.LVL0:
  55 0010 00E0      		ldi r16,lo8(ledmap)
  56 0012 10E0      		ldi r17,hi8(ledmap)
  57               		.loc 1 12 0
  58 0014 97E0      		ldi r25,lo8(7)
  59 0016 E92E      		mov r14,r25
  60 0018 F12C      		mov r15,__zero_reg__
  61 001a C0E0      		ldi r28,0
  62 001c D0E0      		ldi r29,0
  63               	.LVL1:
  64               	.L4:
  65               	.LBB2:
  13:../../tmk_core_custom/common/ledmap_in_eeprom.c ****     for (uint8_t i = 0; i < LED_COUNT; i++) {
  14:../../tmk_core_custom/common/ledmap_in_eeprom.c ****         ledmap[i].code = eeprom_read_word(EECONFIG_LEDMAP + i);
  66               		.loc 1 14 0
  67 001e C701      		movw r24,r14
  68 0020 0E94 0000 		call __eerd_word_m32u4
  69               	.LVL2:
  70 0024 F801      		movw r30,r16
  71 0026 9183      		std Z+1,r25
  72 0028 8083      		st Z,r24
  15:../../tmk_core_custom/common/ledmap_in_eeprom.c ****         /* ledmap[i].code = LEDMAP_UNCONFIGURED; */
  16:../../tmk_core_custom/common/ledmap_in_eeprom.c ****         if (ledmap[i].code == LEDMAP_UNCONFIGURED) {
  73               		.loc 1 16 0
  74 002a 0196      		adiw r24,1
  75 002c 01F4      		brne .L2
  17:../../tmk_core_custom/common/ledmap_in_eeprom.c ****             ledmap[i] = ledmap_get_code(i);
  76               		.loc 1 17 0
  77 002e 6E01      		movw r12,r28
  78 0030 CC0C      		lsl r12
  79 0032 DD1C      		rol r13
  80 0034 C601      		movw r24,r12
  81 0036 8050      		subi r24,lo8(-(ledmap))
  82 0038 9040      		sbci r25,hi8(-(ledmap))
  83 003a 6C01      		movw r12,r24
  84 003c 8C2F      		mov r24,r28
  85 003e 0E94 0000 		call ledmap_get_code
  86               	.LVL3:
  87 0042 F601      		movw r30,r12
  88 0044 9183      		std Z+1,r25
  89 0046 8083      		st Z,r24
  18:../../tmk_core_custom/common/ledmap_in_eeprom.c ****             eeprom_write_word(EECONFIG_LEDMAP + i, ledmap[i].code);
  90               		.loc 1 18 0
  91 0048 F801      		movw r30,r16
  92 004a 6081      		ld r22,Z
  93 004c 7181      		ldd r23,Z+1
  94 004e C701      		movw r24,r14
  95 0050 0E94 0000 		call __eewr_word_m32u4
  96               	.LVL4:
  97               	.L2:
  98 0054 2196      		adiw r28,1
  99               	.LVL5:
 100 0056 F2E0      		ldi r31,2
 101 0058 EF0E      		add r14,r31
 102 005a F11C      		adc r15,__zero_reg__
 103 005c 0E5F      		subi r16,-2
 104 005e 1F4F      		sbci r17,-1
  13:../../tmk_core_custom/common/ledmap_in_eeprom.c ****     for (uint8_t i = 0; i < LED_COUNT; i++) {
 105               		.loc 1 13 0
 106 0060 C530      		cpi r28,5
 107 0062 D105      		cpc r29,__zero_reg__
 108 0064 01F4      		brne .L4
 109               	/* epilogue start */
 110               	.LBE2:
  19:../../tmk_core_custom/common/ledmap_in_eeprom.c ****         }
  20:../../tmk_core_custom/common/ledmap_in_eeprom.c ****     }
  21:../../tmk_core_custom/common/ledmap_in_eeprom.c **** }
 111               		.loc 1 21 0
 112 0066 DF91      		pop r29
 113 0068 CF91      		pop r28
 114               	.LVL6:
 115 006a 1F91      		pop r17
 116 006c 0F91      		pop r16
 117 006e FF90      		pop r15
 118 0070 EF90      		pop r14
 119 0072 DF90      		pop r13
 120 0074 CF90      		pop r12
 121 0076 0895      		ret
 122               		.cfi_endproc
 123               	.LFE1:
 125               		.section	.text.write_ledmap_to_eeprom,"ax",@progbits
 126               	.global	write_ledmap_to_eeprom
 128               	write_ledmap_to_eeprom:
 129               	.LFB2:
  22:../../tmk_core_custom/common/ledmap_in_eeprom.c **** 
  23:../../tmk_core_custom/common/ledmap_in_eeprom.c **** void write_ledmap_to_eeprom(void)
  24:../../tmk_core_custom/common/ledmap_in_eeprom.c **** {
 130               		.loc 1 24 0
 131               		.cfi_startproc
 132 0000 1F93      		push r17
 133               	.LCFI8:
 134               		.cfi_def_cfa_offset 3
 135               		.cfi_offset 17, -2
 136 0002 CF93      		push r28
 137               	.LCFI9:
 138               		.cfi_def_cfa_offset 4
 139               		.cfi_offset 28, -3
 140 0004 DF93      		push r29
 141               	.LCFI10:
 142               		.cfi_def_cfa_offset 5
 143               		.cfi_offset 29, -4
 144               	/* prologue: function */
 145               	/* frame size = 0 */
 146               	/* stack size = 3 */
 147               	.L__stack_usage = 3
 148               	.LVL7:
 149               		.loc 1 24 0
 150 0006 C7E0      		ldi r28,lo8(7)
 151 0008 D0E0      		ldi r29,0
 152               	.LBB3:
  25:../../tmk_core_custom/common/ledmap_in_eeprom.c ****     for (uint8_t i = 0; i < LED_COUNT; i++) {
 153               		.loc 1 25 0
 154 000a 10E0      		ldi r17,0
 155               	.LVL8:
 156               	.L8:
  26:../../tmk_core_custom/common/ledmap_in_eeprom.c ****         eeprom_write_word(EECONFIG_LEDMAP + i, ledmap_get_code(i).code);
 157               		.loc 1 26 0 discriminator 2
 158 000c 812F      		mov r24,r17
 159 000e 0E94 0000 		call ledmap_get_code
 160               	.LVL9:
 161 0012 BC01      		movw r22,r24
 162 0014 CE01      		movw r24,r28
 163 0016 0E94 0000 		call __eewr_word_m32u4
 164               	.LVL10:
  25:../../tmk_core_custom/common/ledmap_in_eeprom.c ****     for (uint8_t i = 0; i < LED_COUNT; i++) {
 165               		.loc 1 25 0 discriminator 2
 166 001a 1F5F      		subi r17,lo8(-(1))
 167               	.LVL11:
 168 001c 2296      		adiw r28,2
 169 001e 1530      		cpi r17,lo8(5)
 170 0020 01F4      		brne .L8
 171               	/* epilogue start */
 172               	.LBE3:
  27:../../tmk_core_custom/common/ledmap_in_eeprom.c ****     }
  28:../../tmk_core_custom/common/ledmap_in_eeprom.c **** }
 173               		.loc 1 28 0
 174 0022 DF91      		pop r29
 175 0024 CF91      		pop r28
 176 0026 1F91      		pop r17
 177               	.LVL12:
 178 0028 0895      		ret
 179               		.cfi_endproc
 180               	.LFE2:
 182               		.section	.text.ledmap_in_eeprom_get_code,"ax",@progbits
 183               	.global	ledmap_in_eeprom_get_code
 185               	ledmap_in_eeprom_get_code:
 186               	.LFB3:
  29:../../tmk_core_custom/common/ledmap_in_eeprom.c **** 
  30:../../tmk_core_custom/common/ledmap_in_eeprom.c **** ledmap_t ledmap_in_eeprom_get_code(uint8_t i)
  31:../../tmk_core_custom/common/ledmap_in_eeprom.c **** {
 187               		.loc 1 31 0
 188               		.cfi_startproc
 189               	.LVL13:
 190               	/* prologue: function */
 191               	/* frame size = 0 */
 192               	/* stack size = 0 */
 193               	.L__stack_usage = 0
  32:../../tmk_core_custom/common/ledmap_in_eeprom.c ****     return ledmap[i];
 194               		.loc 1 32 0
 195 0000 E82F      		mov r30,r24
 196 0002 F0E0      		ldi r31,0
 197 0004 EE0F      		lsl r30
 198 0006 FF1F      		rol r31
 199 0008 E050      		subi r30,lo8(-(ledmap))
 200 000a F040      		sbci r31,hi8(-(ledmap))
  33:../../tmk_core_custom/common/ledmap_in_eeprom.c **** }
 201               		.loc 1 33 0
 202 000c 8081      		ld r24,Z
 203 000e 9181      		ldd r25,Z+1
 204               	.LVL14:
 205 0010 0895      		ret
 206               		.cfi_endproc
 207               	.LFE3:
 209               		.section	.bss.ledmap,"aw",@nobits
 212               	ledmap:
 213 0000 0000 0000 		.zero	10
 213      0000 0000 
 213      0000 
 214               		.text
 215               	.Letext0:
 216               		.file 2 "/usr/local/CrossPack-AVR-20131216/avr/include/stdint.h"
 217               		.file 3 "../../tmk_core_custom/common/ledmap.h"
 218               		.file 4 "/usr/local/CrossPack-AVR-20131216/avr/include/avr/eeprom.h"
DEFINED SYMBOLS
                            *ABS*:00000000 ledmap_in_eeprom.c
/var/folders/21/2h6z05gn50s9p53ctp4w8vd00000gn/T//ccxHtpoy.s:2      *ABS*:0000003e __SP_H__
/var/folders/21/2h6z05gn50s9p53ctp4w8vd00000gn/T//ccxHtpoy.s:3      *ABS*:0000003d __SP_L__
/var/folders/21/2h6z05gn50s9p53ctp4w8vd00000gn/T//ccxHtpoy.s:4      *ABS*:0000003f __SREG__
/var/folders/21/2h6z05gn50s9p53ctp4w8vd00000gn/T//ccxHtpoy.s:5      *ABS*:00000000 __tmp_reg__
/var/folders/21/2h6z05gn50s9p53ctp4w8vd00000gn/T//ccxHtpoy.s:6      *ABS*:00000001 __zero_reg__
/var/folders/21/2h6z05gn50s9p53ctp4w8vd00000gn/T//ccxHtpoy.s:13     .text.ledmap_in_eeprom_init:00000000 ledmap_in_eeprom_init
/var/folders/21/2h6z05gn50s9p53ctp4w8vd00000gn/T//ccxHtpoy.s:212    .bss.ledmap:00000000 ledmap
/var/folders/21/2h6z05gn50s9p53ctp4w8vd00000gn/T//ccxHtpoy.s:128    .text.write_ledmap_to_eeprom:00000000 write_ledmap_to_eeprom
/var/folders/21/2h6z05gn50s9p53ctp4w8vd00000gn/T//ccxHtpoy.s:185    .text.ledmap_in_eeprom_get_code:00000000 ledmap_in_eeprom_get_code

UNDEFINED SYMBOLS
__eerd_word_m32u4
ledmap_get_code
__eewr_word_m32u4
__do_clear_bss
